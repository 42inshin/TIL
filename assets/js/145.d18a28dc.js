(window.webpackJsonp=window.webpackJsonp||[]).push([[145],{498:function(t,s,a){"use strict";a.r(s);var n=a(45),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_2021-04-28-수"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2021-04-28-수"}},[t._v("#")]),t._v(" 2021-04-28(수)")]),t._v(" "),a("h2",{attrs:{id:"_1-학습-날짜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-학습-날짜"}},[t._v("#")]),t._v(" 1. 학습 날짜")]),t._v(" "),a("ul",[a("li",[t._v("2021-04-28(수)\n"),a("br")])]),t._v(" "),a("h2",{attrs:{id:"_2-학습-시간"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-학습-시간"}},[t._v("#")]),t._v(" 2. 학습 시간")]),t._v(" "),a("ul",[a("li",[t._v("10:30 ~ 12:00 (집)")]),t._v(" "),a("li",[t._v("14:00 ~ 17:00 (집)")]),t._v(" "),a("li",[t._v("22:00 ~ 24:00 (집)\n"),a("br")])]),t._v(" "),a("h2",{attrs:{id:"_3-학습-범위-및-주제"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-학습-범위-및-주제"}},[t._v("#")]),t._v(" 3. 학습 범위 및 주제")]),t._v(" "),a("ul",[a("li",[t._v("sprite 시작\n"),a("br")])]),t._v(" "),a("h2",{attrs:{id:"_4-동료-학습-방법"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-동료-학습-방법"}},[t._v("#")]),t._v(" 4. 동료 학습 방법")]),t._v(" "),a("ul",[a("li",[t._v("해당사항없음.\n"),a("br")])]),t._v(" "),a("h2",{attrs:{id:"_5-학습-목표"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-학습-목표"}},[t._v("#")]),t._v(" 5. 학습 목표")]),t._v(" "),a("ul",[a("li",[t._v("sprite 출력을 위해 값을 받고 정렬 하자.\n"),a("br")])]),t._v(" "),a("h2",{attrs:{id:"_6-상세-학습-내용"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-상세-학습-내용"}},[t._v("#")]),t._v(" 6. 상세 학습 내용")]),t._v(" "),a("blockquote",[a("p",[t._v("실제 코딩 시간 : 총 5시간.")])]),t._v(" "),a("h3",{attrs:{id:"lodev-아이디어"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lodev-아이디어"}},[t._v("#")]),t._v(" lodev 아이디어")]),t._v(" "),a("ol",[a("li",[t._v("벽을 레이 캐스팅하는 동안 각 수직 스프라이트의 수직 거리를 1D ZBuffer 에 저장한다.")]),t._v(" "),a("li",[t._v("각 스프라이트에서 플레이어까지의 거리를 계산한다.")]),t._v(" "),a("li",[t._v("이 거리를 사용하여 카메라에서 가장 먼 곳에서 가장 가까운 곳까지의 스프라이트를 정렬한다.\n(먼 곳부터 가까운 순으로 그리자)")]),t._v(" "),a("li",[t._v("카메라 평면(plane in 2D)에 스프라이트를 투영하자 : 스프라이트 위치에서 플레이어 위치를 뺀 다음, 그 값에 2x2카메라 매트릭스(행렬)의 역수를 곱한다.")]),t._v(" "),a("li",[t._v("수직 거리를 사용하여 화면 (x, y direction 모두)에서 스프라이트의 크기를 계산한다.")]),t._v(" "),a("li",[t._v("스프라이트 수직 선에 따라 수직 선으로 그려라. 거리가 1D ZBuffer보다 멀면 수직선을 그리지마라.")])]),t._v(" "),a("p",[t._v("링크 : "),a("a",{attrs:{href:"https://lodev.org/cgtutor/raycasting3.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://lodev.org/cgtutor/raycasting3.html"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"해야할-것"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#해야할-것"}},[t._v("#")]),t._v(" 해야할 것")]),t._v(" "),a("ul",[a("li",[t._v("map 에 2가 들어올 경우 스프라이트로 인식")]),t._v(" "),a("li",[t._v("맵에 있는 스프라이트 개수를 세기")]),t._v(" "),a("li",[t._v("각 스프라이트의 위치 값 보정 (+0.5)")]),t._v(" "),a("li",[t._v("현재 위치와 스프라이트 위치에 대한 거리를 구하자.")]),t._v(" "),a("li",[t._v("각 스프라이트를 현재 위치에서 먼 순서부터 가까운 순서로 정렬(sort_sprites)하자.")])]),t._v(" "),a("h3",{attrs:{id:"sprite-값-받기"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sprite-값-받기"}},[t._v("#")]),t._v(" sprite 값 받기")]),t._v(" "),a("ol",[a("li",[t._v("map_str 에서 '2' 가 있는 경우 cnt++ 을 한다.( 스프라이트 개수 구하기)")]),t._v(" "),a("li",[t._v("sprite 구조체를 개수만큼 만든다.")])]),t._v(" "),a("div",{staticClass:"language-c extra-class"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" s_sprite\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" dist"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  t_sprite "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("spr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\ninfo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("spr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("malloc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sizeof")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t_sprite"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" sprite_num"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"sprite-dist-내림차순-정렬"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sprite-dist-내림차순-정렬"}},[t._v("#")]),t._v(" sprite dist 내림차순 정렬")]),t._v(" "),a("p",[t._v("멀리 있는 스프라이트부터 출력해야 하므로 내림차순으로 정렬 하자.")]),t._v(" "),a("div",{staticClass:"language-c extra-class"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 선택정렬")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort_sprite")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t_info "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tt_sprite\ttmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v("\t\t\ti"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v("\t\t\tj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\ti "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" info"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("map"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sprite_num "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("j "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" info"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("map"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sprite_num"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("info"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("spr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dist "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" info"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("spr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dist"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\ttmp "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" info"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("spr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\tinfo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("spr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" info"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("spr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\tinfo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("spr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t\tj"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\ti"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("출력했을 시, 정렬이 잘 된 것을 확인 할 수 있었다.\n"),a("br")]),t._v(" "),a("h2",{attrs:{id:"_7-학습-내용에-대한-개인적인-총평"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-학습-내용에-대한-개인적인-총평"}},[t._v("#")]),t._v(" 7. 학습 내용에 대한 개인적인 총평")]),t._v(" "),a("ul",[a("li",[t._v("sprite 의 경우, 지금까지 했던 것들과 비교했을 때 가장 이해가 가지 않는 부분인거 같다. 며칠째 계속 글을 읽으면서 이해해보려고 했으나, 카메라 매트릭스의 역수를 왜 곱해야하는지에 대한 궁금증이 가시질 않아서 좀처럼 진도가 나가지 않는 상황이다. 일단 크기에 상관없이 그 위치에 스프라이트를 출력하고, 크기와 방향을 보정하는 방식으로 진행해보도록 해야겠다.\n"),a("br")])]),t._v(" "),a("h2",{attrs:{id:"_8-다음-학습-계획"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-다음-학습-계획"}},[t._v("#")]),t._v(" 8. 다음 학습 계획")]),t._v(" "),a("ul",[a("li",[t._v("스프라이트 텍스처 출력\n"),a("br")])]),t._v(" "),a("h2",{attrs:{id:"_9-참고-링크"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-참고-링크"}},[t._v("#")]),t._v(" 9. 참고 링크")]),t._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://lodev.org/cgtutor/raycasting3.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Raycasting III: Sprites"),a("OutboundLink")],1),t._v(" "),a("br")])])])}),[],!1,null,null,null);s.default=r.exports}}]);